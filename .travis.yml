language: java

jdk: openjdk11

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    
install:
  - wget https://ghidra-sre.org/ghidra_9.1.2_PUBLIC_20200212.zip
  - unzip ghidra_9.1.2_PUBLIC_20200212.zip
  - export GHIDRA_INSTALL_DIR=$PWD/ghidra_9.1.2_PUBLIC

script:
  - gradle
  - ls -la build/*
  
# before_deploy:
#   - export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h -1)}
#   - git tag $TRAVIS_TAG
# deploy:
#   provider: releases
#   api_key: "GITHUB OAUTH TOKEN"
#   file: "FILE TO UPLOAD"
#   skip_cleanup: true
